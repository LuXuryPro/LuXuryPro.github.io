<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />

<style>
img {
  width: 100%;
  height: 100%;
}
</style>

</head>
<body>

<script type="text/javascript">

function get_http_page(url,callback)
{
    var http_request = new XMLHttpRequest();

    http_request.onreadystatechange = handle;
    http_request.open("GET", url,true);
    http_request.send();

    function handle() {
        if (http_request.readyState == 4) {
                if (http_request.status == 200) {
                    document.getElementById('containter').innerHTML
                        = http_request.responseText;
                    callback();
                }
        }
    }
}

function fix_page() {
    function bylo(przedmiot) {
        return przedmiot == "Algorytmy heurystyczne" ||
            przedmiot == "Analiza i równania różniczkowe 2" ||
            przedmiot == "Inżynieria oprogramowania" ||
            przedmiot == "Języki przetwarzania symbolicznego" ||
            przedmiot == "Podstawy telekomunikacji" ||
            przedmiot == "Systemy czasu rzeczywistego" ||
            przedmiot == "Zaawansowane architektury procesorów" ||
            przedmiot == "Podstawy badań operacyjnych" ||
            przedmiot == "Unix - architektura, programowanie i administrowanie" ||
            przedmiot == "Techniki internetowe" ||
            przedmiot == "Fizyczne podstawy przetwarzania informacji";
    }
    var table = document.getElementsByTagName("table");
    var rows = table[0].rows;
    var initial_length = rows.length - 1;
    for (var i = rows.length - 1; i > 0; i--)
    {
        if (rows[i].cells[2].innerHTML != "3" || rows[i].cells[0].getElementsByTagName("input").length === 0 ||
            rows[i].cells[1].innerHTML == "E" || bylo(rows[i].cells[9].innerHTML))
        {
            rows[i].remove();
        }
    }
    var after_filter_length = rows.length;
    console.log((after_filter_length/initial_length)*100);
}
get_http_page("https://crossorigin.me/https://eres.elka.pw.edu.pl/eres/www_mod.displ_klasy?s_id_klasy=OT",
        fix_page);
</script>

<div id="containter">
</div>

</body>
</html>
